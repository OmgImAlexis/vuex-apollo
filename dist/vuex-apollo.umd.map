{"version":3,"sources":["0","store/plugins/apollo-gql-plugin.js","store/index.js","apollo/index.js","index.js"],"names":["module","exports","name","version","description","main","unpkg","scripts","build:browser","build:es","build:umd","build","docs:dev","docs:build","demo","repository","type","url","keywords","author","license","bugs","homepage","devDependencies","@vue/component-compiler-utils","babel-plugin-transform-object-rest-spread","babel-plugin-transform-runtime","babel-preset-env","babel-preset-es2015","node-sass","parcel","parcel-bundler","parcel-plugin-vue","vue","vuepress","dependencies","apollo-boost","graphql","graphql-tag","vuex","isPromise","val","then","patchAction","store","handler","local","entry","_actions","length","pop","push","payload","cb","res","dispatch","commit","getters","state","$apollo","$gql","Promise","resolve","_devtoolHook","catch","err","emit","patchModule","path","hot","namespace","_modules","getNamespace","context","forEachAction","action","key","forEachChild","child","concat","root","orig","Vuex","Store","prototype","registerModule","rawModule","call","get","apollo","gql","apolloGqlPlugin","options","ApolloClient","uri","VuexApollo","Vue","use","modules","forEach","$store","mapActions","mA","mapGetters","mG","mapState","mS","createNamespacedHelpers","cNH"],"mappings":"AAAAA,AGMC,ACgBc+F,AFVd,ADwCA,ODpDM9F,MGMN,ACgBc8F,AFVd,ADwCA,EDpDgB,CAAE7F,IGMlB,ACgBc6F,AFVd,ADwCA,CDpDwB,cAAe5F,AGMvC,ACgBc4F,AFVd,ADwCA,QDpDgD,AGMhD,ACgBcA,AFVd,ADwCA,QDpDyD3F,KGMzD,ACgBc2F,AFVd,ADwCA,CE9CA,ACgBcA,AFVd,ADwCA,MDpDsE,CGMtE,ACgBcA,AFVd,ADwCA,IEpDD,ACsBeA,AFtBf,ADAA,IEAA,ADAA,ADAA,EEAA,ADAA,ADAA,EGsBeA,MDtBf,ADAA,ADAA,QAoDC,EAAA,EAAA,GAAA,CE9CA,EHN4G1F,AGM5G,ACgBc0F,EDhBd,EDLD,CFDmH,AGMlH,CDLD,ADmDC,EG9BcA,AH8Bd,GAAA,GE9CA,ADLD,ECKC,CCgBcA,CH8Bd,CE9CA,EF8CA,EAAA,EG9BcA,CDhBd,GAAA,EHN6I/F,AGM7I,GF8CA,EG9Bc+F,AH8Bd,CAAA,CDpDqJ,IGMrJ,EAAA,ACgBcA,CDhBd,ADMA,ADwCA,ECxCA,CDVD,CCUC,GAAA,CCNA,GAJcH,CFANpD,EAAWC,CGoBLsD,CFVd,CEZD,AHGWtD,CCSV,CFZgLnC,AGElKsF,ECFf,AFYC,EEZD,CHGWnD,CDH6K,EGEzKmD,AFCuB,CEDvBA,ADUd,GCTU,ACHX,AFYC,EAAA,ECTcC,EAAJ,ECmBIE,EAAAA,EAAAA,CFVd,CCT2B,CACfH,ACHb,AFWC,ADTwBnD,CCSxB,CEXD,AHE6BC,EEChBkD,CHJsMrF,CGI9LuF,CFErB,ECMC,CEXD,EFEe,CFH6M,CAAEtF,ECMrNmC,EAAaC,ECHP,ADGc5B,EAAM6B,EAASC,CGgB7BiD,EAAAA,AHfLhD,CCJK,CEmBAgD,CJtBgO,AEG/Nb,EEDhB,CFCwBO,ADId1C,CGLV,CHKkBH,EAAMI,GCJAyC,EEDxB,AFCgCC,IAAAA,ADIC1E,KAAU4B,CCHjCA,CEkBKmD,AHfkC/C,EGelC+C,EAAAA,CFlBLnD,EEDV,AFCkB,EEDlB,AHI0D5B,ECHpCkE,CDG4C,CCHvCC,GDKnBpC,CGNR,CHMcE,CCLmB,CAClB,KDIQ,CCJR,CAAE9C,CDIS4C,CGaXgD,CHbiB7C,CGajB6C,EAAAA,EFjBA,CEiBAA,AHXL5C,CCNK,CDMLA,KAAK,EGWA4C,CFhBE,CEgBFA,GAAAA,EHX+B3C,ECL7B,ADKsCC,CCLrCsC,EEgBHI,AFhBE,ADMLzC,GGUGyC,CHVHzC,CGUGyC,CHVGlD,EAAQ,CACJC,CDboTrC,CEW/TmC,KEWImD,EAAAA,AFdLpC,ADKYb,CGSPiD,CFdLpC,ADKkBJ,CDb0T,MIsBvUwC,CFdKN,CDMA3C,CGTpB,AFIUc,EAAAA,IEJJmC,AHScjD,CCLH4C,CEJE,AHSOlC,CGRdwC,AFKDpD,MDIUE,EGTTkD,EAAKJ,GACLK,CHQSnD,CGRTmD,CHQexC,GGRXyB,EAAR,GHSWpC,MGRL2C,AHQK3C,EAAMY,IGRX+B,EHSW7C,CGTF,EAAagD,EAAAA,OHSXhD,EGTWgD,AHSLnC,GGRjBb,GAAQ,EAAYsC,AHSXtC,EGTWsC,QHSXtC,CGTWsC,CHSLxB,CDlBqZhD,AIS5Z,KHUFkC,GGVoB,CAAE6C,GJTqZ,ACmB3a7C,EAAMe,EGVgB8B,EAAQC,IAAV,AHWvB9C,EGXuB,EHWvBA,EAAMgB,MGTPsC,AHUL9C,EGVK8C,AHUI7C,GAGRT,KGbYuD,EHYX3D,EAAUc,IGZStD,CHYHsD,EGZaV,AHYPiB,EGZawB,MHYLvB,QAAQR,CGZYtD,EAAOE,CHa1D0C,EAAMmB,EGb0D/D,EAAO4C,QAEvEwC,CHYO9B,CGZP8B,CHYWpB,MAAMC,CDzB0ftD,EIajgByF,CHcAnC,GD3BwgB,GIa/frB,AHaTmB,EAAAA,EGTTsC,EAAaC,QAAAA,CHSSpC,KAAK,KGTdoC,EAAnB,MHS+CrC,GAChCA,EGTTsC,EAAaC,AHYPlD,IAKnB,IGjB0BkD,KHiBjBrC,EAAavB,EAAOwB,EGjBHoC,AHiBSxG,EGjB5B,AHiBoCqE,CDnCqjBzD,ECoCtlB0D,MAAAA,EGjBGmC,AHiBS7D,CDpCslB,CImBplB8D,AHiBInC,QGjBJmC,CHiBalC,QGjBbkC,EJnBymB7F,AImB1nB,GHiB2CuD,GACxCtB,EAAQ9C,CGjBL2G,CHiBYlC,CGjBcmC,EJpBwmB,KCuCpoBlC,CGnB4BkC,CHmB5BlC,cAAc,CDvC6oB5D,ACuC5oB6D,EAAQC,GDvC0oB,CCuCloBjC,EGnBHiE,AHmBehE,EGnB/C,AHmBuD0B,EAAYM,EAAMD,EAAQ7B,IAC7E+B,EAAAA,YGlBIkB,CHkBS,CAACjB,CDxCqrB/D,CCwC9qB6D,IGlBjBmB,AHkByB5B,EAAYvB,EAAOwB,EDxC+pB,ACwC1pBW,CDxC4pB/D,CIsB7sB+E,IJtBmtB,CCwC3pBnB,GAAME,EDxC4pB7D,ACwCrpBoD,IDxC0pB,AC2C/tBzB,QAAAA,QAAAA,CAAAA,IACCA,EAAAA,EAAO,GAAIA,EAAM2B,SAASS,MAEhCC,KD9CwxB/D,CC8CxxB+D,EAAOC,EAAKC,ID9CsxB,CAAC,GC8CvxBA,ID9C+xB,EC8CzxBC,OD9CmyB,GC8CzxBC,QD9CqyBlE,OAAQ,AC+C10BgE,EAAAA,QAAAA,MAAMC,UAAUC,eAAiB,CD/Co1BjE,QAAS,AC+Cr0BgD,EAAMkB,GAC3DC,CDhDi4BlE,CCgDj4BkE,IDhDu4B,CAAEtE,ACgDp4B,IDhDy4B,CCgDn4BmD,EAAMkB,GACV,EAAA,KAAM,GAAGP,OAAOX,GAAO,KAAKG,SAASiB,IAAI,CAACpB,IDjDg5B9C,CCkDj8BiC,KAAAA,GDlD28B,SCkD/7Ba,uCDlDg/B7C,gBAAiB,CAAEC,gCAAiC,SAAUC,4CAA6C,UAAWC,iCAAkC,UAAWC,mBAAoB,SAAUC,sBAAuB,UAAWC,YAAa,SAAUC,OAAQ,SAAUC,iBAAkB,SAAUC,oBAAqB,SAAUC,IAAK,UAAWC,SAAU,WAAaC,aAAc,CAAEC,eAAgB,UAAWC,QAAS,UAAWC,cAAe,SAAUC,KAAM","file":"vuex-apollo.umd.map","sourceRoot":"../src","sourcesContent":[null,"import Vuex from 'vuex'\n\nfunction isPromise (val) {\n    return val && typeof val.then === 'function'\n}\n\nfunction patchAction (store, type, handler, local) {\n    const entry = store._actions[type] || (store._actions[type] = [])\n  \n    if (entry.length > 0) entry.pop()\n  \n    entry.push(function wrappedActionHandler (payload, cb) {\n        let res = handler({\n            dispatch: local.dispatch,\n            commit: local.commit,\n            getters: local.getters,\n            state: local.state,\n            rootGetters: store.getters,\n            rootState: store.state,\n            apollo: store.$apollo,\n            gql: store.$gql\n        }, payload, cb)\n\n        if (!isPromise(res)) res = Promise.resolve(res)\n        if (store._devtoolHook) {\n            return res.catch(err => {\n                store._devtoolHook.emit('vuex:error', err)\n                throw err\n            })\n        } else {\n            return res\n        }\n    })\n}\n  \nfunction patchModule (store, path, module, hot) {\n    const namespace = store._modules.getNamespace(path)\n    const local = module.context\n  \n    module.forEachAction((action, key) => patchAction(store, (namespace + key), action, local))\n    module.forEachChild((child, key) => patchModule(store, path.concat(key), child, hot))\n}\n\nexport default store => {\n    patchModule(store, [], store._modules.root)\n\n    const orig = Vuex.Store.prototype.registerModule;\n    Vuex.Store.prototype.registerModule = function registerModule(path, rawModule) {\n        orig.call(this, path, rawModule)\n        patchModule(this, [].concat(path), this._modules.get([path]))\n        this.dispatch(`${path}/INIT`)\n    }\n}\n","import { version } from '../../package.json'\nimport apolloGqlPlugin from './plugins/apollo-gql-plugin'\n\nexport default (Vuex, { apollo, gql }) => {\n    const store = new Vuex.Store({\n        state: { version },\n        plugins: [apolloGqlPlugin]\n    })\n    store.$apollo = apollo\n    store.$gql = gql\n\n    return store\n}\n","import ApolloClient from 'apollo-boost'\n\nexport default options => {\n    return new ApolloClient({\n        uri: options.uri\n    })\n}\n","import Vuex, { mapActions as mA, mapGetters as mG, mapState as mS, createNamespacedHelpers as cNH } from 'vuex'\nimport gql from 'graphql-tag'\nimport createStore from './store'\nimport createApollo from './apollo'\n\nconst VuexApollo = {\n    install(Vue, options) {\n        Vue.use(Vuex)\n        const apollo = createApollo(options)\n        const store = createStore(Vuex, { apollo, gql })\n\n        options.modules.forEach(module => store.registerModule(module.name, module.store))\n\n        Vue.prototype.$store = store\n    }\n}\n\nexport const mapActions = mA\nexport const mapGetters = mG\nexport const mapState = mS\nexport const createNamespacedHelpers = cNH\n\nexport default VuexApollo\n"]}