{"version":3,"sources":["0","store/plugins/apollo-gql-plugin.js","store/index.js","apollo/index.js","index.js"],"names":["module","exports","name","version","description","main","unpkg","scripts","build:browser","build:es","build:umd","build","docs:dev","docs:build","demo","release","repository","type","url","keywords","author","license","bugs","homepage","devDependencies","@vue/component-compiler-utils","babel-plugin-transform-object-rest-spread","babel-plugin-transform-runtime","babel-preset-env","babel-preset-es2015","node-sass","parcel","parcel-bundler","parcel-plugin-vue","release-it","vue","vuepress","dependencies","apollo-boost","graphql","graphql-tag","vuex","isPromise","val","then","patchAction","store","handler","local","entry","_actions","length","pop","push","payload","cb","res","dispatch","commit","getters","state","$apollo","$gql","Promise","resolve","_devtoolHook","catch","err","emit","patchModule","path","hot","namespace","_modules","getNamespace","context","forEachAction","action","key","forEachChild","child","concat","root","orig","Vuex","Store","prototype","registerModule","rawModule","call","get","apollo","gql","apolloGqlPlugin","options","ApolloClient","uri","VuexApollo","Vue","use","modules","forEach","$store","mapActions","mA","mapGetters","mG","mapState","mS","createNamespacedHelpers","cNH"],"mappings":"AAAAA,AGMC,ACgBciG,AFVd,ADwCA,ODpDMhG,MGMN,ACgBcgG,AFVd,ADwCA,EDpDgB,CAAE/F,IGMlB,ACgBc+F,AFVd,ADwCA,CDpDwB,cAAe9F,AGMvC,ACgBc8F,AFVd,ADwCA,QDpDgD,AGMhD,ACgBcA,AFVd,ADwCA,QDpDyD7F,KGMzD,ACgBc6F,AFVd,ADwCA,CE9CA,ACgBcA,AFVd,ADwCA,MDpDsE,CGMtE,ACgBcA,AFVd,ADwCA,IEpDD,ACsBeA,AFtBf,ADAA,IEAA,ADAA,ADAA,EEAA,ADAA,ADAA,EGsBeA,MDtBf,ADAA,ADAA,QAoDC,EAAA,EAAA,GAAA,CE9CA,EHN4G5F,AGM5G,ACgBc4F,EDhBd,EDLD,CFDmH,AGMlH,CDLD,ADmDC,EG9BcA,AH8Bd,GAAA,GE9CA,ADLD,ECKC,CCgBcA,CH8Bd,CE9CA,EF8CA,EAAA,EG9BcA,CDhBd,GAAA,EHN6IjG,AGM7I,GF8CA,EG9BciG,AH8Bd,CAAA,CDpDqJ,IGMrJ,EAAA,ACgBcA,CDhBd,ADMA,ADwCA,ECxCA,CDVD,CCUC,GAAA,CCNA,GAJcH,CFANpD,EAAWC,CGoBLsD,CFVd,CEZD,AHGWtD,CCSV,CFZgLrC,AGElKwF,ECFf,AFYC,EEZD,CHGWnD,CDH6K,EGEzKmD,AFCuB,CEDvBA,ADUd,GCTU,ACHX,AFYC,EAAA,ECTcC,EAAJ,ECmBIE,EAAAA,EAAAA,CFVd,CCT2B,CACfH,ACHb,AFWC,ADTwBnD,CCSxB,CEXD,AHE6BC,EEChBkD,CHJsMvF,CGI9LyF,CFErB,ECMC,CEXD,EFEe,CFH6M,CAAExF,ECMrNqC,EAAaC,ECHP,ADGc7B,EAAM8B,EAASC,CGgB7BiD,EAAAA,AHfLhD,CCJK,CEmBAgD,CJtBgO,AEG/Nb,EEDhB,CFCwBO,ADId1C,CGLV,CHKkBH,EAAMI,GCJAyC,EEDxB,AFCgCC,IAAAA,ADIC3E,KAAU6B,CCHjCA,CEkBKmD,AHfkC/C,EGelC+C,EAAAA,CFlBLnD,EEDV,AFCkB,EEDlB,AHI0D7B,ECHpCmE,CDG4C,CCHvCC,GDKnBpC,CGNR,CHMcE,CCLmB,CAClB,KDIQ,CCJR,CAAEhD,CDIS8C,CGaXgD,CHbiB7C,CGajB6C,EAAAA,EFjBA,CEiBAA,AHXL5C,CCNK,CDMLA,KAAK,EGWA4C,CFhBE,CEgBFA,GAAAA,EHX+B3C,ECL7B,ADKsCC,CCLrCsC,EEgBHI,AFhBE,ADMLzC,GGUGyC,CHVHzC,CGUGyC,CHVGlD,EAAQ,CACJC,CDboTvC,CEW/TqC,KEWImD,EAAAA,AFdLpC,ADKYb,CGSPiD,CFdLpC,ADKkBJ,CDb0T,MIsBvUwC,CFdKN,CDMA3C,CGTpB,AFIUc,EAAAA,IEJJmC,AHScjD,CCLH4C,CEJE,AHSOlC,CGRdwC,AFKDpD,MDIUE,EGTTkD,EAAKJ,GACLK,CHQSnD,CGRTmD,CHQexC,GGRXyB,EAAR,GHSWpC,MGRL2C,AHQK3C,EAAMY,IGRX+B,EHSW7C,CGTF,EAAagD,EAAAA,OHSXhD,EGTWgD,AHSLnC,GGRjBb,GAAQ,EAAYsC,AHSXtC,EGTWsC,QHSXtC,CGTWsC,CHSLxB,CDlBqZlD,AIS5Z,KHUFoC,GGVoB,CAAE6C,GJTqZ,ACmB3a7C,EAAMe,EGVgB8B,EAAQC,IAAV,AHWvB9C,EGXuB,EHWvBA,EAAMgB,MGTPsC,AHUL9C,EGVK8C,AHUI7C,GAGRT,KGbYuD,EHYX3D,EAAUc,IGZSxD,CHYHwD,EGZaV,AHYPiB,EGZawB,MHYLvB,QAAQR,CGZYxD,EAAOE,CHa1D4C,EAAMmB,EGb0DjE,EAAO8C,QAEvEwC,CHYO9B,CGZP8B,CHYWpB,MAAMC,CDzB0fxD,EIajgB2F,CHcAnC,GD3BwgB,GIa/frB,AHaTmB,EAAAA,EGTTsC,EAAaC,QAAAA,CHSSpC,KAAK,KGTdoC,EAAnB,MHS+CrC,GAChCA,EGTTsC,EAAaC,AHYPlD,IAKnB,IGjB0BkD,KHiBjBrC,EAAavB,EAAOwB,EGjBHoC,AHiBS1G,EGjB5B,AHiBoCuE,CDnCqjB3D,ECoCtlB4D,MAAAA,EGjBGmC,AHiBS7D,CDpCslB,CImBplB8D,AHiBInC,QGjBJmC,CHiBalC,QGjBbkC,EJnBymB/F,AImB1nB,GHiB2CyD,GACxCtB,EAAQhD,CGjBL6G,CHiBYlC,CGjBcmC,EJpBwmB,KCuCpoBlC,CGnB4BkC,CHmB5BlC,cAAc,CDvC6oB9D,ACuC5oB+D,EAAQC,GDvC0oB,CCuCloBjC,EGnBHiE,AHmBehE,EGnB/C,AHmBuD0B,EAAYM,EAAMD,EAAQ7B,IAC7E+B,EAAAA,YGlBIkB,CHkBS,CAACjB,EAAOF,IGlBjBmB,AHkByB5B,EAAYvB,EAAOwB,EAAKW,EGlBjDgB,KHkBwDnB,GAAME,EAAOT,EDxCkpBxD,EC2CvtB+B,MD3CguB,EC2ChuBA,QAAAA,CAAAA,GD3CgvB9B,CC4C/uB8B,EAAAA,EAAO,GAAIA,EAAM2B,CD5C0uB,CAAExD,KAAM,EC4CzuBiE,ID5CgvBhE,EC8ChxBiE,ED9CqxB,IC8CrxBA,EAAOC,EAAKC,QAAAA,MAAMC,UAAUC,eAC7BF,EAAAA,CD/C00BlE,OC+C10BkE,ED/Co1B,CAAC,GC+C/0BC,ID/Cu1B,MC+C70BC,GD/Cu1B,WAAYnE,CC+Cl1B,MD/C01B,GC+Cl0BkD,EAAMkB,GAC3DC,EAAAA,KAAK,KAAMnB,EAAMkB,GACV,EAAA,KAAM,GAAGP,ODjDk5B5D,ACiD34BiD,GAAO,KDjD64B,ACiDx4BG,MDjD+4BnD,GCiDt4BoE,EDjD44B,CAAExE,CCiD14B,CAACoD,EDjD84B,GCkD/7Bb,KAAAA,YAAYa,6BDlDs+B/C,SAAU,gDAAiDC,gBAAiB,CAAEC,gCAAiC,SAAUC,4CAA6C,UAAWC,iCAAkC,UAAWC,mBAAoB,SAAUC,sBAAuB,UAAWC,YAAa,SAAUC,OAAQ,SAAUC,iBAAkB,SAAUC,oBAAqB,SAAUC,aAAc,SAAUC,IAAK,UAAWC,SAAU,WAAaC,aAAc,CAAEC,eAAgB,UAAWC,QAAS,UAAWC,cAAe,SAAUC,KAAM","file":"vuex-apollo.umd.map","sourceRoot":"../src","sourcesContent":[null,"import Vuex from 'vuex'\n\nfunction isPromise (val) {\n    return val && typeof val.then === 'function'\n}\n\nfunction patchAction (store, type, handler, local) {\n    const entry = store._actions[type] || (store._actions[type] = [])\n  \n    if (entry.length > 0) entry.pop()\n  \n    entry.push(function wrappedActionHandler (payload, cb) {\n        let res = handler({\n            dispatch: local.dispatch,\n            commit: local.commit,\n            getters: local.getters,\n            state: local.state,\n            rootGetters: store.getters,\n            rootState: store.state,\n            apollo: store.$apollo,\n            gql: store.$gql\n        }, payload, cb)\n\n        if (!isPromise(res)) res = Promise.resolve(res)\n        if (store._devtoolHook) {\n            return res.catch(err => {\n                store._devtoolHook.emit('vuex:error', err)\n                throw err\n            })\n        } else {\n            return res\n        }\n    })\n}\n  \nfunction patchModule (store, path, module, hot) {\n    const namespace = store._modules.getNamespace(path)\n    const local = module.context\n  \n    module.forEachAction((action, key) => patchAction(store, (namespace + key), action, local))\n    module.forEachChild((child, key) => patchModule(store, path.concat(key), child, hot))\n}\n\nexport default store => {\n    patchModule(store, [], store._modules.root)\n\n    const orig = Vuex.Store.prototype.registerModule;\n    Vuex.Store.prototype.registerModule = function registerModule(path, rawModule) {\n        orig.call(this, path, rawModule)\n        patchModule(this, [].concat(path), this._modules.get([path]))\n        this.dispatch(`${path}/INIT`)\n    }\n}\n","import { version } from '../../package.json'\nimport apolloGqlPlugin from './plugins/apollo-gql-plugin'\n\nexport default (Vuex, { apollo, gql }) => {\n    const store = new Vuex.Store({\n        state: { version },\n        plugins: [apolloGqlPlugin]\n    })\n    store.$apollo = apollo\n    store.$gql = gql\n\n    return store\n}\n","import ApolloClient from 'apollo-boost'\n\nexport default options => {\n    return new ApolloClient({\n        uri: options.uri\n    })\n}\n","import Vuex, { mapActions as mA, mapGetters as mG, mapState as mS, createNamespacedHelpers as cNH } from 'vuex'\nimport gql from 'graphql-tag'\nimport createStore from './store'\nimport createApollo from './apollo'\n\nconst VuexApollo = {\n    install(Vue, options) {\n        Vue.use(Vuex)\n        const apollo = createApollo(options)\n        const store = createStore(Vuex, { apollo, gql })\n\n        options.modules.forEach(module => store.registerModule(module.name, module.store))\n\n        Vue.prototype.$store = store\n    }\n}\n\nexport const mapActions = mA\nexport const mapGetters = mG\nexport const mapState = mS\nexport const createNamespacedHelpers = cNH\n\nexport default VuexApollo\n"]}