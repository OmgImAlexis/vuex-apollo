{"version":3,"sources":["0","store/plugins/apollo-gql-plugin.js","store/index.js","apollo/index.js","index.js"],"names":["module","exports","name","version","description","main","unpkg","scripts","build:browser","build:es","build:umd","build","docs:dev","docs:build","demo","release","repository","type","url","keywords","author","license","bugs","homepage","devDependencies","@vue/component-compiler-utils","babel-plugin-transform-object-rest-spread","babel-plugin-transform-runtime","babel-preset-env","babel-preset-es2015","node-sass","parcel","parcel-bundler","parcel-plugin-vue","release-it","vue","vuepress","dependencies","apollo-boost","graphql","graphql-tag","vuex","isPromise","val","then","patchAction","store","handler","local","entry","_actions","length","pop","push","payload","cb","res","dispatch","commit","getters","state","$apollo","$gql","Promise","resolve","_devtoolHook","catch","err","emit","patchModule","path","hot","namespace","_modules","getNamespace","context","forEachAction","action","key","forEachChild","child","concat","root","orig","Vuex","Store","prototype","registerModule","rawModule","call","get","apollo","gql","apolloGqlPlugin","options","ApolloClient","uri","VuexApollo","Vue","use","modules","forEach","$store","mapActions","mA","mapGetters","mG","mapState","mS","createNamespacedHelpers","cNH"],"mappings":"AAAAA,AGMC,ACgBciG,AFVd,ADwCA,ODpDMhG,MGMN,ACgBcgG,AFVd,ADwCA,EDpDc,CAAC/F,IGMf,ACgBc+F,AFVd,ADwCA,CDpDoB,cAAc9F,AGMlC,ACgBc8F,AFVd,ADwCA,QDpD0C,AGM1C,ACgBcA,AFVd,ADwCA,QDpDkD7F,KGMlD,ACgBc6F,AFVd,ADwCA,CE9CA,ACgBcA,AFVd,ADwCA,MDpD8D,CGM9D,ACgBcA,AFVd,ADwCA,IEpDD,ACsBeA,AFtBf,ADAA,IEAA,ADAA,ADAA,EEAA,ADAA,ADAA,EGsBeA,MDtBf,ADAA,ADAA,QAoDC,EAAA,EAAA,GAAA,CE9CA,EHNmG5F,AGMnG,ACgBc4F,EDhBd,EDLD,CFDyG,AGMxG,CDLD,ADmDC,EG9BcA,AH8Bd,GAAA,GE9CA,ADLD,ECKC,CCgBcA,CH8Bd,CE9CA,EF8CA,EAAA,EG9BcA,CDhBd,GAAA,EHNkIjG,AGMlI,GF8CA,EG9BciG,AH8Bd,CAAA,CDpDyI,IGMzI,EAAA,ACgBcA,CDhBd,ADMA,ADwCA,ECxCA,CDVD,CCUC,GAAA,CCNA,GAJcH,CFANpD,EAAWC,CGoBLsD,CFVd,CEZD,AHGWtD,CCSV,CFZmKrC,AGErJwF,ECFf,AFYC,EEZD,CHGWnD,CDH+J,EGE3JmD,AFCuB,CEDvBA,ADUd,GCTU,ACHX,AFYC,EAAA,ECTcC,EAAJ,ECmBIE,EAAAA,EAAAA,CFVd,CCT2B,CACfH,ACHb,AFWC,ADTwBnD,CCSxB,CEXD,AHE6BC,EEChBkD,CHJuLvF,CGI/KyF,CFErB,ECMC,CEXD,EFEe,CFH6L,CAACxF,ECMpMqC,EAAaC,ECHP,ADGc7B,EAAM8B,EAASC,CGgB7BiD,EAAAA,AHfLhD,CCJK,CEmBAgD,CJtB8M,AEG7Mb,EEDhB,CFCwBO,ADId1C,CGLV,CHKkBH,EAAMI,GCJAyC,EEDxB,AFCgCC,IAAAA,ADIC3E,KAAU6B,CCHjCA,CEkBKmD,AHfkC/C,EGelC+C,EAAAA,CFlBLnD,EEDV,AFCkB,EEDlB,AHI0D7B,ECHpCmE,CDG4C,CCHvCC,GDKnBpC,CGNR,CHMcE,CCLmB,CAClB,KDIQ,CCJR,CAAEhD,CDIS8C,CGaXgD,CHbiB7C,CGajB6C,EAAAA,EFjBA,CEiBAA,AHXL5C,CCNK,CDMLA,KAAK,EGWA4C,CFhBE,CEgBFA,GAAAA,EHX+B3C,ECL7B,ADKsCC,CCLrCsC,EEgBHI,AFhBE,ADMLzC,GGUGyC,CHVHzC,CGUGyC,CHVGlD,EAAQ,CACJC,CDbiSvC,CEW5SqC,KEWImD,EAAAA,AFdLpC,ADKYb,CGSPiD,CFdLpC,ADKkBJ,CDbsS,MIsBnTwC,CFdKN,CDMA3C,CGTpB,AFIUc,EAAAA,IEJJmC,AHScjD,CCLH4C,CEJE,AHSOlC,CGRdwC,AFKDpD,MDIUE,EGTTkD,EAAKJ,GACLK,CHQSnD,CGRTmD,CHQexC,GGRXyB,EAAR,GHSWpC,MGRL2C,AHQK3C,EAAMY,IGRX+B,EHSW7C,CGTF,EAAagD,EAAAA,OHSXhD,EGTWgD,AHSLnC,GGRjBb,GAAQ,EAAYsC,AHSXtC,EGTWsC,QHSXtC,CGTWsC,CHSLxB,CDlBgYlD,AISvY,KHUFoC,GGVoB,CAAE6C,GJT+X,ACmBrZ7C,EAAMe,EGVgB8B,EAAQC,IAAV,AHWvB9C,EGXuB,EHWvBA,EAAMgB,MGTPsC,AHUL9C,EGVK8C,AHUI7C,GAGRT,KGbYuD,EHYX3D,EAAUc,IGZSxD,CHYHwD,EGZaV,AHYPiB,EGZawB,MHYLvB,QAAQR,CGZYxD,EAAOE,CHa1D4C,EAAMmB,EGb0DjE,EAAO8C,QAEvEwC,CHYO9B,CGZP8B,CHYWpB,MAAMC,CDzBmexD,EIa1e2F,CHcAnC,GD3Bgf,GIaverB,AHaTmB,EAAAA,EGTTsC,EAAaC,QAAAA,CHSSpC,KAAK,KGTdoC,EAAnB,MHS+CrC,GAChCA,EGTTsC,EAAaC,AHYPlD,IAKnB,IGjB0BkD,KHiBjBrC,EAAavB,EAAOwB,EGjBHoC,AHiBS1G,EGjB5B,AHiBoCuE,CDnC4hB3D,ECoC7jB4D,MAAAA,EGjBGmC,AHiBS7D,CDpC4jB,CImB1jB8D,AHiBInC,QGjBJmC,CHiBalC,QGjBbkC,EJnB8kB/F,AImB/lB,GHiB2CyD,GACxCtB,EAAQhD,CGjBL6G,CHiBYlC,CGjBcmC,EJpB4kB,KCuCxmBlC,CGnB4BkC,CHmB5BlC,cAAc,CDvCgnB9D,ACuC/mB+D,EAAQC,GDvC4mB,CCuCpmBjC,EGnBHiE,AHmBehE,EGnB/C,AHmBuD0B,EAAYM,EAAMD,EAAQ7B,IAC7E+B,EAAAA,YGlBIkB,CHkBS,CAACjB,EAAOF,IGlBjBmB,AHkByB5B,EAAYvB,EAAOwB,EAAKW,EGlBjDgB,KHkBwDnB,GAAME,EAAOT,EDxCmnBxD,EC2CxrB+B,MD3CgsB,EC2ChsBA,QAAAA,CAAAA,GD3C8sB9B,CC4C7sB8B,EAAAA,EAAO,GAAIA,EAAM2B,CD5CusB,CAACxD,KAAK,EC4CpsBiE,ID5C0sBhE,EC8C1uBiE,ED9C8uB,IC8C9uBA,EAAOC,EAAKC,QAAAA,MAAMC,UAAUC,eAC7BF,EAAAA,CD/CiyBlE,OC+CjyBkE,ED/C0yB,CAAC,GC+CryBC,ID/C4yB,MC+ClyBC,GD/C2yB,WAAWnE,CC+CryB,MD/C4yB,GC+CpxBkD,EAAMkB,GAC3DC,EAAAA,KAAK,KAAMnB,EAAMkB,GACV,EAAA,KAAM,GAAGP,ODjDm2B5D,ACiD51BiD,GAAO,KDjD61B,ACiDx1BG,MDjD81BnD,GCiDr1BoE,EDjD01B,CAACxE,CCiDv1B,CAACoD,EDjD01B,GCkD34Bb,KAAAA,YAAYa,6BDlDg7B/C,SAAS,gDAAgDC,gBAAgB,CAACC,gCAAgC,SAASC,4CAA4C,UAAUC,iCAAiC,UAAUC,mBAAmB,SAASC,sBAAsB,UAAUC,YAAY,SAASC,OAAO,SAASC,iBAAiB,SAASC,oBAAoB,SAASC,aAAa,SAASC,IAAI,UAAUC,SAAS,WAAWC,aAAa,CAACC,eAAe,UAAUC,QAAQ,UAAUC,cAAc,SAASC,KAAK","file":"vuex-apollo.esm.map","sourceRoot":"../src","sourcesContent":[null,"import Vuex from 'vuex'\n\nfunction isPromise (val) {\n    return val && typeof val.then === 'function'\n}\n\nfunction patchAction (store, type, handler, local) {\n    const entry = store._actions[type] || (store._actions[type] = [])\n  \n    if (entry.length > 0) entry.pop()\n  \n    entry.push(function wrappedActionHandler (payload, cb) {\n        let res = handler({\n            dispatch: local.dispatch,\n            commit: local.commit,\n            getters: local.getters,\n            state: local.state,\n            rootGetters: store.getters,\n            rootState: store.state,\n            apollo: store.$apollo,\n            gql: store.$gql\n        }, payload, cb)\n\n        if (!isPromise(res)) res = Promise.resolve(res)\n        if (store._devtoolHook) {\n            return res.catch(err => {\n                store._devtoolHook.emit('vuex:error', err)\n                throw err\n            })\n        } else {\n            return res\n        }\n    })\n}\n  \nfunction patchModule (store, path, module, hot) {\n    const namespace = store._modules.getNamespace(path)\n    const local = module.context\n  \n    module.forEachAction((action, key) => patchAction(store, (namespace + key), action, local))\n    module.forEachChild((child, key) => patchModule(store, path.concat(key), child, hot))\n}\n\nexport default store => {\n    patchModule(store, [], store._modules.root)\n\n    const orig = Vuex.Store.prototype.registerModule;\n    Vuex.Store.prototype.registerModule = function registerModule(path, rawModule) {\n        orig.call(this, path, rawModule)\n        patchModule(this, [].concat(path), this._modules.get([path]))\n        this.dispatch(`${path}/INIT`)\n    }\n}\n","import { version } from '../../package.json'\nimport apolloGqlPlugin from './plugins/apollo-gql-plugin'\n\nexport default (Vuex, { apollo, gql }) => {\n    const store = new Vuex.Store({\n        state: { version },\n        plugins: [apolloGqlPlugin]\n    })\n    store.$apollo = apollo\n    store.$gql = gql\n\n    return store\n}\n","import ApolloClient from 'apollo-boost'\n\nexport default options => {\n    return new ApolloClient({\n        uri: options.uri\n    })\n}\n","import Vuex, { mapActions as mA, mapGetters as mG, mapState as mS, createNamespacedHelpers as cNH } from 'vuex'\nimport gql from 'graphql-tag'\nimport createStore from './store'\nimport createApollo from './apollo'\n\nconst VuexApollo = {\n    install(Vue, options) {\n        Vue.use(Vuex)\n        const apollo = createApollo(options)\n        const store = createStore(Vuex, { apollo, gql })\n\n        options.modules.forEach(module => store.registerModule(module.name, module.store))\n\n        Vue.prototype.$store = store\n    }\n}\n\nexport const mapActions = mA\nexport const mapGetters = mG\nexport const mapState = mS\nexport const createNamespacedHelpers = cNH\n\nexport default VuexApollo\n"]}